
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Kasper Kornak">
      
      
      
        <link rel="prev" href="../Create%20Azure%20resources%20by%20using%20Azure%20CLI/">
      
      
        <link rel="next" href="../IaaC%20and%20configuration%20management/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.8">
    
    
      
        <title>Creating Azure resources using Azure Resource Manager templates - Kasper's AZ-400 notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-azure-resources-using-azure-resource-manager-templates" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Kasper&#39;s AZ-400 notes" class="md-header__button md-logo" aria-label="Kasper's AZ-400 notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kasper's AZ-400 notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating Azure resources using Azure Resource Manager templates
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Welcome to AZ-400 learning

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Design-and-implement-a-dependency-management-strategy/GitHub%20packages/" class="md-tabs__link">
          
  
  Design and implement a dependency management strategy

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Design-and-implement-a-release-strategy/Automating%20inspection%20of%20health/" class="md-tabs__link">
          
  
  Design and implement a release strategy

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../DevOps-transformation-journey/Agile%20planning%20with%20GitHub%20Projects%20and%20Azure%20Boards/" class="md-tabs__link">
          
  
  DevOps transformation journey

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Development-for-enterprise-DevOps/Collaborate%20with%20PRs%20in%20Azure%20Repos/" class="md-tabs__link">
          
  
  Development for enterprise DevOps

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Continuous%20Integration%20with%20GitHub%20Actions/" class="md-tabs__link">
          
  
  Implement CI with Azure Pipelines and GitHub Actions

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/AB%20testing%20and%20progressive%20exposure%20deployment/" class="md-tabs__link">
          
  
  Implement a secure continuous deployment using Azure Pipelines

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Implement-continuous-feedback/Developing%20monitor%20and%20status%20dashboards/" class="md-tabs__link">
          
  
  Implement continuous feedback

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Implement-security-and-validate-code-bases-for-compliance/Introduction%20to%20Secure%20DevOps/" class="md-tabs__link">
          
  
  Implement security and validate code bases for compliance

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Azure%20Automation%20with%20DevOps/" class="md-tabs__link">
          
  
  Manage infrastructure as code using Azure and DSC

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Kasper&#39;s AZ-400 notes" class="md-nav__button md-logo" aria-label="Kasper's AZ-400 notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Kasper's AZ-400 notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to AZ-400 learning
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Design and implement a dependency management strategy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Design and implement a dependency management strategy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-dependency-management-strategy/GitHub%20packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub packages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-dependency-management-strategy/Implementing%20a%20versioning%20strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementing a versioning strategy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-dependency-management-strategy/Migrate%20consolidating%20and%20secure%20artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrate consolidating and secure artifacts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-dependency-management-strategy/Package%20dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package dependencies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-dependency-management-strategy/Understanding%20package%20management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding package management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Design and implement a release strategy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Design and implement a release strategy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-release-strategy/Automating%20inspection%20of%20health/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automating inspection of health
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-release-strategy/Creating%20a%20release%20pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a release pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-release-strategy/Introduction%20Continuous%20Delivery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction Continuous Delivery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-release-strategy/Managing%20and%20modularizing%20tasks%20and%20templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing and modularizing tasks and templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-release-strategy/Provisioning%20and%20testing%20environments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Provisioning and testing environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Design-and-implement-a-release-strategy/Release%20recommendations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release recommendations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps transformation journey
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            DevOps transformation journey
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Agile%20planning%20with%20GitHub%20Projects%20and%20Azure%20Boards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agile planning with GitHub Projects and Azure Boards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Choosing%20the%20DevOps%20tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choosing the DevOps tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Choosing%20the%20right%20project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choosing the right project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Describing%20team%20structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Describing team structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Describing%20types%20of%20source%20control%20systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Describing types of source control systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Introduction%20to%20DevOps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to DevOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Introduction%20to%20source%20control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to source control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps-transformation-journey/Work%20with%20Azure%20Repos%20and%20GitHub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work with Azure Repos and GitHub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development for enterprise DevOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Development for enterprise DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Collaborate%20with%20PRs%20in%20Azure%20Repos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collaborate with PRs in Azure Repos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Exploring%20Git%20hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exploring Git hooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Identifying%20technical%20debt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Identifying technical debt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Managing%20Git%20branches%20and%20workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Git branches and workflows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Managing%20Git%20repositories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Git repositories
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Planning%20foster%20inner%20source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning foster inner source
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Development-for-enterprise-DevOps/Structuring%20Git%20Repo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structuring Git Repo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Implement CI with Azure Pipelines and GitHub Actions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Implement CI with Azure Pipelines and GitHub Actions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Continuous%20Integration%20with%20GitHub%20Actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Integration with GitHub Actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Continuous%20Integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Designing%20a%20container%20build%20strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designing a container build strategy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Exploring%20Azure%20Pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exploring Azure Pipelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/GitHub%20Actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Integrating%20with%20Azure%20Pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Azure Pipelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Managing%20Azure%20Pipeline%20agents%20and%20pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Azure Pipeline agents and pools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-CI-with-Azure-Pipelines-and-GitHub-Actions/Pipeline%20strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline strategy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Implement a secure continuous deployment using Azure Pipelines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Implement a secure continuous deployment using Azure Pipelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/AB%20testing%20and%20progressive%20exposure%20deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A/B testing and progressive exposure deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/Blue-green%20deployment%20and%20feature%20toggles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blue-green deployment and feature toggles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/Canary%20release%20and%20dark%20launching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Canary release and dark launching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/Integrating%20identity%20management%20systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating identity management systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/Introdcution%20to%20deployment%20patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introdcution to deployment patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-a-secure-continuous-deployment-using-Azure-Pipelines/Managing%20application%20configuration%20data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing application configuration data
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Implement continuous feedback
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Implement continuous feedback
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-continuous-feedback/Developing%20monitor%20and%20status%20dashboards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing monitor and status dashboards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-continuous-feedback/Implementing%20tools%20to%20track%20usage%20and%20flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementing tools to track usage and flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-continuous-feedback/Managing%20alerts%2C%20blameless%20retrospectives%20and%20a%20just%20culture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing alerts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Implement security and validate code bases for compliance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Implement security and validate code bases for compliance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-security-and-validate-code-bases-for-compliance/Introduction%20to%20Secure%20DevOps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Secure DevOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-security-and-validate-code-bases-for-compliance/OWASP%20and%20dynamic%20analyzers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OWASP and dynamic analyzers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-security-and-validate-code-bases-for-compliance/Security%20monitoring%20and%20governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security monitoring and governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-security-and-validate-code-bases-for-compliance/Software%20Composition%20Analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Composition Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Implement-security-and-validate-code-bases-for-compliance/Static%20analyzers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Static analyzers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Manage infrastructure as code using Azure and DSC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Manage infrastructure as code using Azure and DSC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Azure%20Automation%20with%20DevOps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Automation with DevOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Create%20Azure%20resources%20by%20using%20Azure%20CLI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure resources by using Azure CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Creating Azure resources using Azure Resource Manager templates
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Creating Azure resources using Azure Resource Manager templates
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#azure-resource-manager-templates" class="md-nav__link">
    Azure Resource Manager templates
  </a>
  
    <nav class="md-nav" aria-label="Azure Resource Manager templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs" class="md-nav__link">
    Outputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-dependencies" class="md-nav__link">
    Managing dependencies
  </a>
  
    <nav class="md-nav" aria-label="Managing dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#circular-dependencies" class="md-nav__link">
    Circular dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modularizing-templates" class="md-nav__link">
    Modularizing templates
  </a>
  
    <nav class="md-nav" aria-label="Modularizing templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linked-template" class="md-nav__link">
    Linked template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-template" class="md-nav__link">
    Nested template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-templates-and-parameters" class="md-nav__link">
    External templates and parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-modes" class="md-nav__link">
    Deployment modes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-secrets-in-templates" class="md-nav__link">
    Managing secrets in templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-address" class="md-nav__link">
    Lab address
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../IaaC%20and%20configuration%20management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IaaC and configuration management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Implementing%20Bicep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementing Bicep
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Implementing%20Desired%20State%20Configuration%20%28DSC%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementing Desired State Configuration (DSC)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#azure-resource-manager-templates" class="md-nav__link">
    Azure Resource Manager templates
  </a>
  
    <nav class="md-nav" aria-label="Azure Resource Manager templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outputs" class="md-nav__link">
    Outputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-dependencies" class="md-nav__link">
    Managing dependencies
  </a>
  
    <nav class="md-nav" aria-label="Managing dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#circular-dependencies" class="md-nav__link">
    Circular dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modularizing-templates" class="md-nav__link">
    Modularizing templates
  </a>
  
    <nav class="md-nav" aria-label="Modularizing templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linked-template" class="md-nav__link">
    Linked template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-template" class="md-nav__link">
    Nested template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-templates-and-parameters" class="md-nav__link">
    External templates and parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-modes" class="md-nav__link">
    Deployment modes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-secrets-in-templates" class="md-nav__link">
    Managing secrets in templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-address" class="md-nav__link">
    Lab address
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="creating-azure-resources-using-azure-resource-manager-templates">Creating Azure resources using Azure Resource Manager templates</h1>
<h2 id="azure-resource-manager-templates">Azure Resource Manager templates</h2>
<p>Using Resource Manager templates will make your deployments faster and more repeatable.</p>
<ul>
<li>Templates improve consistency. Resource Manager templates provide a common language for you and others to describe your deployments. Despite the tool or SDK that you use to deploy the template, the template's structure, format, and expressions remain the same.</li>
<li>Templates help express complex deployments. Templates enable you to deploy multiple resources in the correct order. For example, you wouldn't want to deploy a VM before creating an operating system (OS) disk or network interface. Resource Manager maps out each resource and its dependent resources and creates dependent resources first. Dependency mapping helps ensure that the deployment is carried out in the correct order.</li>
<li>Templates reduce manual, error-prone tasks. Manually creating and connecting resources can be time-consuming, and it's easy to make mistakes. The Resource Manager ensures that the deployment happens the same way every time.</li>
<li>Templates are code. Templates express your requirements through code. Think of a template as a type of Infrastructure as Code that can be shared, tested, and versioned like any other piece of software. Also, because templates are code, you can create a record that you can follow. The template code documents the deployment. Also, most users maintain their templates under revision control, such as GIT. Its revision history also records how the template (and your deployment) has evolved when you change the template.</li>
<li>Templates promote reuse. Your template can contain parameters that are filled in when the template runs. A parameter can define a username or password, a domain name, and other necessary items. Template parameters also enable you to create multiple versions of your infrastructure, such as staging and production, while still using the same template.</li>
<li>Templates are linkable. You can link Resource Manager templates together to make the templates themselves modular. You can write small templates that define a solution and then combine them to create a complete system.</li>
</ul>
<p>Azure Resource Manager templates are written in JSON, which allows you to express data stored as an object (such as a virtual machine) in text.</p>
<h3 id="parameters">Parameters</h3>
<p>For example, you might allow template users to set a username, password, or domain name.</p>
<pre><code class="language-json">&quot;parameters&quot;: {
  &quot;adminUsername&quot;: {
    &quot;type&quot;: &quot;string&quot;,
    &quot;metadata&quot;: {
      &quot;description&quot;: &quot;Username for the Virtual Machine.&quot;
    }
  },
  &quot;adminPassword&quot;: {
    &quot;type&quot;: &quot;securestring&quot;,
    &quot;metadata&quot;: {
      &quot;description&quot;: &quot;Password for the Virtual Machine.&quot;
    }
  }
}
</code></pre>
<h3 id="variables">Variables</h3>
<p>For example, you might define a storage account name one time as a variable and then use that variable throughout the template.</p>
<pre><code class="language-json">&quot;variables&quot;: {
  &quot;nicName&quot;: &quot;myVMNic&quot;,
  &quot;addressPrefix&quot;: &quot;10.0.0.0/16&quot;,
  &quot;subnetName&quot;: &quot;Subnet&quot;,
  &quot;subnetPrefix&quot;: &quot;10.0.0.0/24&quot;,
  &quot;publicIPAddressName&quot;: &quot;myPublicIP&quot;,
  &quot;virtualNetworkName&quot;: &quot;MyVNET&quot;
}
</code></pre>
<h3 id="functions">Functions</h3>
<p>An example that creates a function for creating a unique name to use when creating resources that have globally unique naming requirement.</p>
<pre><code class="language-json">&quot;functions&quot;: [
  {
    &quot;namespace&quot;: &quot;contoso&quot;,
    &quot;members&quot;: {
      &quot;uniqueName&quot;: {
        &quot;parameters&quot;: [
          {
            &quot;name&quot;: &quot;namePrefix&quot;,
            &quot;type&quot;: &quot;string&quot;
          }
        ],
        &quot;output&quot;: {
          &quot;type&quot;: &quot;string&quot;,
          &quot;value&quot;: &quot;[concat(toLower(parameters('namePrefix')), uniqueString(resourceGroup().id))]&quot;
        }
      }
    }
  }
],
</code></pre>
<h3 id="resources">Resources</h3>
<p>This section is where you define the Azure resources that make up your deployment. An example that creates a public IP address resource.</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;Microsoft.Network/publicIPAddresses&quot;,
  &quot;name&quot;: &quot;[variables('publicIPAddressName')]&quot;,
  &quot;location&quot;: &quot;[parameters('location')]&quot;,
  &quot;apiVersion&quot;: &quot;2018-08-01&quot;,
  &quot;properties&quot;: {
    &quot;publicIPAllocationMethod&quot;: &quot;Dynamic&quot;,
    &quot;dnsSettings&quot;: {
      &quot;domainNameLabel&quot;: &quot;[parameters('dnsLabelPrefix')]&quot;
    }
  }
}
</code></pre>
<h3 id="outputs">Outputs</h3>
<p>This section is where you define any information you'd like to receive when the template runs. For example, you might want to receive your VM's IP address or fully qualified domain name (FQDN), the information you won't know until the deployment runs.</p>
<pre><code class="language-json">&quot;outputs&quot;: {
  &quot;hostname&quot;: {
    &quot;type&quot;: &quot;string&quot;,
    &quot;value&quot;: &quot;[reference(variables('publicIPAddressName')).dnsSettings.fqdn]&quot;
  }
}
</code></pre>
<h2 id="managing-dependencies">Managing dependencies</h2>
<p>For any given resource, other resources might need to exist before you can deploy the resource.</p>
<p>Within your template, the <code>dependsOn</code> element enables you to define one resource dependent on one or more other resources.</p>
<h3 id="circular-dependencies">Circular dependencies</h3>
<p>A <strong>circular dependency</strong> is a problem with dependency sequencing, resulting in the deployment going around in a loop and unable to continue.
As a result, the Resource Manager can't deploy the resources.
Resource Manager identifies circular dependencies during template validation.</p>
<h2 id="modularizing-templates">Modularizing templates</h2>
<p>When using Azure Resource Manager templates, it's best to modularize them by breaking them into individual components. The primary methodology to use is by using <strong>linked templates</strong>.</p>
<h3 id="linked-template">Linked template</h3>
<pre><code class="language-json">&quot;resources&quot;: [
  {
      &quot;apiVersion&quot;: &quot;2017-05-10&quot;,
      &quot;name&quot;: &quot;linkedTemplate&quot;,
      &quot;type&quot;: &quot;Microsoft.Resources/deployments&quot;,
      &quot;properties&quot;: {
          &quot;mode&quot;: &quot;Incremental&quot;,
          &lt;link-to-external-template&gt;
      }
  }
]
</code></pre>
<h3 id="nested-template">Nested template</h3>
<p>You can also nest a template within the main template, use the template property, and specify the template syntax.</p>
<pre><code class="language-json">&quot;resources&quot;: [
  {
    &quot;apiVersion&quot;: &quot;2017-05-10&quot;,
    &quot;name&quot;: &quot;nestedTemplate&quot;,
    &quot;type&quot;: &quot;Microsoft.Resources/deployments&quot;,
    &quot;properties&quot;: {
      &quot;mode&quot;: &quot;Incremental&quot;,
      &quot;template&quot;: {
        &quot;$schema&quot;: &quot;https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#&quot;,
        &quot;contentVersion&quot;: &quot;1.0.0.0&quot;,
        &quot;resources&quot;: [
          {
            &quot;type&quot;: &quot;Microsoft.Storage/storageAccounts&quot;,
            &quot;name&quot;: &quot;[variables('storageName')]&quot;,
            &quot;apiVersion&quot;: &quot;2015-06-15&quot;,
            &quot;location&quot;: &quot;West US&quot;,
            &quot;properties&quot;: {
              &quot;accountType&quot;: &quot;Standard_LRS&quot;
            }
          }
        ]
      }
    }
  }
]
</code></pre>
<h3 id="external-templates-and-parameters">External templates and parameters</h3>
<p>To link to an external template and parameter file, use <code>templateLink</code> and <code>parametersLink</code>. When linking to a template, ensure that the Resource Manager service can access it.</p>
<pre><code class="language-json">&quot;resources&quot;: [
    {
      &quot;name&quot;: &quot;linkedTemplate&quot;,
      &quot;type&quot;: &quot;Microsoft.Resources/deployments&quot;,
      &quot;apiVersion&quot;: &quot;2018-05-01&quot;,
      &quot;properties&quot;: {
          &quot;mode&quot;: &quot;Incremental&quot;,
          &quot;templateLink&quot;: {
              &quot;uri&quot;:&quot;https://linkedtemplateek1store.blob.core.windows.net/linkedtemplates/linkedStorageAccount.json?sv=2018-03-28&amp;sr=b&amp;sig=dO9p7XnbhGq56BO%2BSW3o9tX7E2WUdIk%2BpF1MTK2eFfs%3D&amp;se=2018-12-31T14%3A32%3A29Z&amp;sp=r&quot;
          },
          &quot;parameters&quot;: {
              &quot;storageAccountName&quot;:{&quot;value&quot;: &quot;[variables('storageAccountName')]&quot;},
              &quot;location&quot;:{&quot;value&quot;: &quot;[parameters('location')]&quot;}
          }
      }
    },
</code></pre>
<h2 id="deployment-modes">Deployment modes</h2>
<p>When deploying your resources using templates, you have three options:</p>
<ul>
<li><strong>Validate</strong>: This option compiles the templates, validates the deployment, ensures the template is functional (for example, no circular dependencies), and correct syntax.</li>
<li><strong>Incremental mode</strong> (default): This option only deploys whatever is defined in the template. It doesn't remove or modify any resources that aren't defined in the template. For example, if you've deployed a VM via template and then renamed the VM in the template, the first VM deployed will remain after the template is rerun. It's the default mode.</li>
<li><strong>Complete mode</strong>: Resource Manager deletes resources that exist in the resource group but isn't specified in the template. For example, only resources defined in the template will be present in the resource group after the template deploys. As a best practice, use this mode for production environments to achieve idempotency in your deployment templates.</li>
</ul>
<h2 id="managing-secrets-in-templates">Managing secrets in templates</h2>
<p>When passing a secure value (such as a password) as a parameter during deployment, you can retrieve the value from an Azure Key Vault.
Reference the Key Vault and secret in your parameter file.
The value is never exposed because you only reference its Key Vault ID.
The Key Vault can exist in a different subscription than the resource group you're deploying.</p>
<h2 id="lab-address">Lab address</h2>
<p>https://microsoftlearning.github.io/AZ400-DesigningandImplementingMicrosoftDevOpsSolutions/Instructions/Labs/AZ400_M06_L12_Azure_Deployments_Using_Resource_Manager_Templates.html</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>